<x-home-layout>
    <div class="py-12 ">
        <!-- Isi konten atau elemen lain di sini -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
        <div id="app" class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <!-- product-detail -->
            <div class="container grid grid-cols-2 gap-6 pt-10">
                <div>
                    <img src="https://ik.imagekit.io/pandooin/tr:pr-true/production/images/attraction/tari-kecak-uluwatu/VFN5Lw6CX6Shp05Ffl3yYfBsAw5qblVXMMzPP1Ig.jpg"
                        alt="product" class="w-full">
                    <div class="grid grid-cols-5 gap-4 mt-4">
                        <img src="https://www.balipost.com/wp-content/uploads/2022/04/balipostcom_desa-adat-blahkiuh-hidupkan-kembali-tarian-kecak_01.jpg"
                            alt="product2" class="w-full cursor-pointer border border-primary">
                        <img src="https://awsimages.detik.net.id/community/media/visual/2020/07/10/tari-kecak-dan-sunset-syahdu-di-bali_169.jpeg?w=1200"
                            alt="product2" class="w-full cursor-pointer border">
                        <img src="https://www.balipost.com/wp-content/uploads/2022/04/balipostcom_desa-adat-blahkiuh-hidupkan-kembali-tarian-kecak_01.jpg"
                            alt="product2" class="w-full cursor-pointer border">
                        <img src="https://balihappyholiday.com/wp-content/uploads/2022/06/tari-kecak-uluwatu-5.jpg"
                            alt="product2" class="w-full cursor-pointer border">
                        <img src="https://cdn.tmpo.co/data/2020/10/31/id_977484/977484_720.jpg" alt="product2"
                            class="w-full cursor-pointer border">
                    </div>
                </div>

                <div class="barang">
                    <h2 class="text-3xl font-medium uppercase mb-2 text-sky-600">
                        Tari Kecak Uluwatu</h2>

                    <div class="flex items-center my-2">
                        <svg class="w-4 h-4 text-yellow-300 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                        <svg class="w-4 h-4 text-yellow-300 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                        <svg class="w-4 h-4 text-yellow-300 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                        <svg class="w-4 h-4 text-yellow-300 mr-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                        <svg class="w-4 h-4 text-gray-300 mr-1 dark:text-gray-500" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                            <path
                                d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z" />
                        </svg>
                        <p class="ml-2 text-sm font-medium text-gray-500 dark:text-gray-400">4.85 out of 5</p>
                    </div>

                    <div class="space-y-2">
                        <p class="text-gray-800 font-semibold space-x-2">
                            <span>Availability: </span>
                            <span class="text-green-600">Tersedia</span>
                        </p>
                        <p class="space-x-2">
                            <span class="text-gray-800 font-semibold">Lokasi : </span>
                            <span class="text-gray-600">Jl. Uluwatu, Pecatu, Kec. Kuta Sel., Kabupaten Badung,
                                Bali</span>
                        </p>
                        <p class="space-x-2">
                            <span class="text-gray-800 font-semibold">Waktu : </span>
                            <span class="text-gray-600">17.00 WITA - 20.00 WITA</span>
                        </p>
                        <p class="space-x-2">
                            <span class="text-gray-800 font-semibold">Kontak : </span>
                            <span class="text-gray-600">+6289753471</span>
                        </p>
                    </div>


                    <p class="mt-4 text-gray-600">Tari Kecak Uluwatu adalah pertunjukan tari tradisional dari Bali, yang
                        menggabungkan gerakan tari dramatis dengan suara "cak" yang unik. Pertunjukan ini berdasarkan
                        kisah Ramayana dan sering diiringi oleh matahari terbenam di pantai Uluwatu yang indah.</p>

                    <div class="flex items-baseline mb-1 space-x-2 font-roboto mt-4">
                        <p class="text-xl text-primary font-semibold">Rp. 220.000</p>
                        <p class="text-base text-gray-400 line-through">Rp. 250.000</p>
                    </div>
                    <p class="mt-2 text-gray-600">Quantity: <span id="quantity1" class="font-semibold"></span></p>
                    <p class="mt-2 text-gray-600 text-xl">Total Harga: Rp <span id="total1"
                            class="font-semibold">0</span></p>


                    <div class="mt-4">
                        <h3 class="text-sm text-gray-800 uppercase mb-1">Quantity</h3>
                        <div class="flex border border-gray-300 text-gray-600 divide-x divide-gray-300 w-max">
                            <button onclick="kurangiQuantity(1)">
                                <div
                                    class="h-8 w-8 text-xl flex items-center justify-center cursor-pointer select-none">
                                    -</div>
                            </button>
                            <input type="number" id="quantityInput1" class="h-8 w-12 text-base text-center" min="0"
                                value="0" oninput="updateTotal(1)">

                            <button onclick="tambahQuantity(1)">
                                <div
                                    class="h-8 w-8 text-xl flex items-center justify-center cursor-pointer select-none">
                                    +</div>
                            </button>
                        </div>
                    </div>


                    <div class="mt-6 flex gap-3 border-b border-gray-200 pb-5 pt-5">
                        <a href="#">
                            <button class="h-10 px-6 font-semibold rounded-lg bg-sky-600 text-white" type="button"
                                onclick="pesanSekarang()">
                                Pesan sekarang
                            </button>
                        </a>

                        <a href="/keranjang">
                            <button data-bs-toggle="modal" data-bstarget="#exampleModalLg"
                                class="h-10 px-6 font-semibold rounded-lg border border-slate200 text-slate-900"
                                type="button">
                                Masukkan Keranjang
                            </button>
                        </a>

                    </div>
                </div>
            </div>
            <section class="mt-10 mb-20">
                <div class="flex mb-4 ">
                    <div class="w-2/3  ">
                        <div id="reviewList" class="mt-8 pr-8">
                            <!-- Individual Reviews Will Be Appended Here -->
                        </div>
                    </div>
                    <div class="w-1/3 ">
                        <div class="mb-4 ">
                            <form id="reviewForm" class="mb-4">
                                <h1 class="text-2xl font-semibold mb-4">Product Reviews</h1>
                                <!-- Rating with stars -->
                                <div class="mb-4">
                                    <label for="ratingStars" class="block font-bold mb-2">Rating:</label>
                                    <div id="ratingStars" class="flex">
                                        <span class="cursor-pointer text-yellow-500 text-3xl" data-rating="1">☆</span>
                                        <span class="cursor-pointer text-yellow-500 text-3xl" data-rating="2">☆</span>
                                        <span class="cursor-pointer text-yellow-500 text-3xl" data-rating="3">☆</span>
                                        <span class="cursor-pointer text-yellow-500 text-3xl" data-rating="4">☆</span>
                                        <span class="cursor-pointer text-yellow-500 text-3xl" data-rating="5">☆</span>
                                    </div>
                                    <input id="userRating" type="hidden">
                                </div>
                                <div class="mb-4">
                                    <label for="userName" class="block font-bold mb-2">Nama:</label>
                                    <input id="userName" type="text" class="w-full p-2 border rounded" required>
                                </div>
                                <div class="mb-4">
                                    <label for="userEmail" class="block font-bold mb-2">Email:</label>
                                    <input id="userEmail" type="email" class="w-full p-2 border rounded" required>
                                </div>
                                <div class="mb-4">
                                    <label for="userReview" class="block font-bold mb-2">Review:</label>
                                    <textarea id="userReview" class="w-full p-2 border rounded" required></textarea>
                                </div>
                                <button type="submit"
                                    class="bg-sky-500 text-white p-2 rounded hover:bg-sky-600">Submit Review</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>


    <script>
        function updateTotal(id) {
            var quantityInput = document.getElementById("quantityInput" + id);
            var totalElement = document.getElementById("total" + id);

            var currentQuantity = parseInt(quantityInput.value, 10);
            var harga = 0;

            if (id === 1) {
                harga = 220000;
            } else if (id === 2) {
                harga = 15000;
            } else if (id === 3) {
                harga = 20000;
            }

            var totalHarga = currentQuantity * harga;
            totalElement.textContent = totalHarga;
        }

        function tambahQuantity(id) {
            var quantityInput = document.getElementById("quantityInput" + id);

            var currentQuantity = parseInt(quantityInput.value, 10);
            currentQuantity++;
            quantityInput.value = currentQuantity;

            updateTotal(id);
        }

        function kurangiQuantity(id) {
            var quantityInput = document.getElementById("quantityInput" + id);

            var currentQuantity = parseInt(quantityInput.value, 10);

            if (currentQuantity > 0) {
                currentQuantity--;
                quantityInput.value = currentQuantity;
            }

            updateTotal(id);
        }

        var komentarTabel = [];

        function submitKomentar() {
            var namaInput = document.getElementById("nama").value;
            var emailInput = document.getElementById("email").value;
            var komentarInput = document.getElementById("komentar").value;

            if (namaInput.trim() === "" || emailInput.trim() === "" || komentarInput.trim() === "") {
                return;
            }

            var komentar = {
                nama: namaInput,
                email: emailInput,
                review: komentarInput
            };

            // Perbarui daftar komentar
            var daftarKomentar = document.getElementById("daftar-komentar");
            var listItem = document.createElement("li");
            listItem.innerHTML = `<strong>${komentar.nama}</strong> (${komentar.email}): ${komentar.review}`;
            daftarKomentar.appendChild(listItem);

            document.getElementById("nama").value = "";
            document.getElementById("email").value = "";
            document.getElementById("komentar").value = "";
        }

        function pesanSekarang() {
            // Mendapatkan total pesanan
            var totalPesan = document.getElementById("total1").textContent;

            // Menampilkan pesan transaksi sukses
            alert("Transaksi berhasil! Total pesanan Anda: " + totalPesan);
        }

        document.addEventListener('DOMContentLoaded', function () {
            const stars = document.querySelectorAll('#ratingStars span');
            // rating dengan bintang
            stars.forEach(star => {
                star.addEventListener('click', function () {
                    const rating = this.getAttribute('data-rating');
                    document.getElementById('userRating').value = rating;

                    stars.forEach((s, index) => {
                        if (index < rating) {
                            s.textContent = '★';
                        } else {
                            s.textContent = '☆';
                        }
                    });

                    // Tambahkan kelas 'clicked' untuk mengubah warna bintang yang diklik menjadi kuning/gold
                    stars.forEach((s, index) => {
                        s.classList.remove('clicked');
                        if (index < rating) {
                            s.classList.add('clicked');
                        }
                    });
                });
            });

            document.getElementById('reviewForm').addEventListener('submit', function (event) {
                event.preventDefault();
                const userName = document.getElementById('userName').value;
                const userEmail = document.getElementById('userEmail').value;
                const userRating = document.getElementById('userRating').value;
                const userReview = document.getElementById('userReview').value;

                // Buat ulasan yang baru
                const reviewList = document.getElementById('reviewList');
                const reviewContent = document.createElement('div');
                reviewContent.classList.add('bg-gray-50', 'p-4', 'rounded-lg', 'mb-4', 'text-center');

                const userProfile = document.createElement('div');
                userProfile.classList.add('flex', 'flex-col', 'items-center', 'mb-2');

                // foto
                const userAvatar = document.createElement('img');
                userAvatar.classList.add('w-8', 'h-8', 'rounded-full', 'mb-2');

                // Buat email acak untuk mendapatkan avatar acak dari Gravatar
                const randomEmail = Math.random().toString(36).substring(2) + "@example.com";
                const gravatarURL = `https://www.gravatar.com/avatar/${randomEmail}?d=identicon`;

                userAvatar.src = gravatarURL;
                userProfile.appendChild(userAvatar);

                // Nama
                const userNameElement = document.createElement('p');
                userNameElement.classList.add('font-bold');
                userNameElement.textContent = userName;
                userProfile.appendChild(userNameElement);

                reviewContent.appendChild(userProfile);

                // Rating
                const userRatingElement = document.createElement('div');
                userRatingElement.classList.add('flex', 'items-center', 'justify-center', 'mb-2');
                const ratingText = document.createElement('p');

                for (let i = 1; i <= 5; i++) {
                    const star = document.createElement('span');
                    if (i <= userRating) {
                        star.textContent = '★';
                    } else {
                        star.textContent = '☆';
                    }
                    star.classList.add('text-2xl',
                        'text-yellow-500'); // Mengubah warna bintang menjadi kuning
                    ratingText.appendChild(star);
                }

                userRatingElement.appendChild(ratingText);
                reviewContent.appendChild(userRatingElement);

                // Reviewer's Email
                const userEmailElement = document.createElement('p');
                userEmailElement.classList.add('text-gray-700');
                userEmailElement.textContent = userEmail;
                reviewContent.appendChild(userEmailElement);

                const reviewText = document.createElement('p');
                reviewText.classList.add('text-gray-700');
                reviewText.textContent = userReview;
                reviewContent.appendChild(reviewText);

                // Tambahkan ulasan baru ke daftar ulasan
                reviewList.appendChild(reviewContent);

                // Reset form
                document.getElementById('userName').value = '';
                document.getElementById('userEmail').value = '';
                document.getElementById('userRating').value = '';
                stars.forEach(star => star.textContent = '☆');
                document.getElementById('userReview').value = '';
            });
        });

    </script>

</x-home-layout>
